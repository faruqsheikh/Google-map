<!trial>
<html>
	<head>
		<style>
			#map{
			height: 500px;
			width: 50%;
			background-color: grey;
			}
		</style>
	</head>
	<body>
		<h3>My Google Map Demo </h3>
		<div id="map"></div>
		<script>
			function initMap(){
				var  map = new google.maps.Map(document.getElementById('map'), {
					zoom: 10,
					center: {lat: 18.5204, lng: 73.8567}
					});
				var infoWindow = new google.maps.InfoWindow({map:map})
				// Trying geolocation
				if(navigator.geolocation){
				  navigator.geolocation.getCurrentPosition(function(position){
				  var pos={
				  lat: position.coords.latitude,
                  lng: position.coords.longitude
				  };
				  infoWindow.setPosition(pos);
				  infoWindow.setContent('I am here');
				  map.setCenter(pos);
				}, function(){
				handleLocationError(true, infoWindow, map.getCenter());
				});
				
			}
			else{
				//Browset does't support Geoloaction
				handleLocationError(false, infoWindow, map.getCenter());
				}
			
		}
		function handleLocationError(browserHasGeolocation, infoWindow, pos){
		infoWindow.setContent(pos);
		infoWindow.setContent(browserHasGeolocation?
		                                        'Error: The Geolocation service failed.' :
                                                'Error: Your browser doesn\'t support geolocation.');
		
		}
		</script>
		<script async defer
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDX-fx5WdGF6TqusxjgO3H-uE5xRVgJPAo&callback=initMap">
		</script>
	</body>
</html>